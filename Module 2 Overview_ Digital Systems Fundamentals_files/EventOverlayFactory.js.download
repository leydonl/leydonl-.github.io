(()=>{"use strict";var e,t={98542:(e,t,s)=>{var n=s(76702),i=s(71293);Panopto.EmbedEventOverlay=(0,n.bootstrapReactComponent)(i.B)},25843:(e,t,s)=>{s.d(t,{g:()=>n});class n{}n.ContentsTabId="contentsTab",n.ContentsPaneId="contentsPane",n.CommentsTabId="commentsTab",n.CommentsPaneId="commentsPane",n.InfoTabId="infoTab",n.InfoPaneId="infoPane",n.NotesTabId="notesTab",n.NotesPaneId="notesPane",n.SearchTabId="searchTab",n.SearchPaneId="searchPane"},47831:(e,t,s)=>{s.d(t,{o:()=>h});var n=s(87363),i=s(12611),o=s(74818),a=s(39945),r=s(75928),l=s(12125),c=s(18144),p=PanoptoTS.Viewer.Data.Thumbnail;class d extends n.Component{render(){const e=i.sortBy(this.props.thumbnails.concat(this.props.contents),"time");return n.createElement(r.Q,{id:this.props.id,tabId:this.props.tabId,className:"contents",selected:this.props.selected},n.createElement("div",{className:"scroll-container"},n.createElement("div",{className:"title"},this.props.resources.Embed_TableOfContents),n.createElement(a.b,null,e.map((e=>e instanceof p?n.createElement(c.x,{key:e.queryParams.eventTargetPID+"_"+e.queryParams.number,thumbnail:e,onClick:this.props.onContentRowClick}):n.createElement(l.g,{key:e.id,quiz:e,onClick:this.props.onContentRowClick}))))))}}const h=(0,o.l)(d)},71293:(e,t,s)=>{s.d(t,{B:()=>w});var n,i=s(60390),o=s(87363),a=s(12611),r=s(70747),l=s(69653),c=s(35413),p=s(34283),d=s(74818),h=s(81295),u=s(25843),m=s(47831),v=s(66653),b=s(73401),g=s(34105),y=s(99811),S=s(85609),f=s(55559),E=s(72358),C=s(94533),I=s(53962),T=function(e,t,s,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(o<3?i(a):o>3?i(t,s,a):i(t,s))||a);return o>3&&a&&Object.defineProperty(t,s,a),a};!function(e){e[e.MainSelect=0]="MainSelect",e[e.CaptionSelect=1]="CaptionSelect",e[e.AudioDescriptionSelect=2]="AudioDescriptionSelect"}(n||(n={}));class w extends o.Component{constructor(e){super(e),this.tabElements={},this.handleEventTabKeyDown=e=>{if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key||!$(e.target).is(".event-tab"))return;const t="ArrowLeft"===e.key?-1:1;this.setState(((e,s)=>{const n=this.enabledTabs(s),i=n.indexOf(e.visiblePane);return{visiblePane:n[(n.length+i+t)%n.length]}}),(()=>{var e;return null===(e=this.tabElements[this.state.visiblePane])||void 0===e?void 0:e.focus()})),e.preventDefault(),e.stopPropagation()},this.handleEventPaneKeyDown=e=>{var t;e.ctrlKey&&"ArrowUp"===e.key&&(null===(t=this.tabElements[this.state.visiblePane])||void 0===t||t.focus(),e.preventDefault(),e.stopPropagation())},this.onCaptionItemSelect=()=>{this.setState({displayedScreen:n.CaptionSelect})},this.onAudioDescriptionItemSelect=()=>{this.setState({displayedScreen:n.AudioDescriptionSelect})},this.onBackSelect=()=>{this.setState({displayedScreen:n.MainSelect})},this.handleTabSelected=e=>{this.setState({visiblePane:e});b.j[window.location.hash.substring(1)]&&(window.location.hash=`#${e}`)},this.handleContentRowClick=e=>{this.props.isBroadcast||this.props.onSeekRequested(e.time)};const t=new r.Color(Panopto.branding.accentColor).getSafety().toHex();let s;this.container={resources:e.resources,timeHelpers:Panopto.Core.TimeHelpers,stringHelpers:PanoptoTS.StringHelpers,deliveryService:new p.DeliveryService({uriScheme:Panopto.uriScheme,webServerFQDN:Panopto.webServerFQDN,appRoot:Panopto.appRoot}),settings:{discussionModerationEnabled:Panopto.features.enableDiscussionModeration,displayFullNamesInDiscussion:Panopto.features.displayFullNamesInDiscussion},brandColorSafe:t,onAddPositionListener:e.onAddPositionListener,onRemovePositionListener:e.onRemovePositionListener},this.props.delivery.user&&(s=this.props.delivery.user.rating||void 0),this.state={visiblePane:this.props.initialSearchTerm?b.j.Search:this.enabledTabs(e)[0],isActionMenuOpen:!1,deliveryRating:s,displayedScreen:n.MainSelect}}componentDidMount(){const e=b.j[window.location.hash.substring(1)];e&&this.setState({visiblePane:e})}enabledTabs(e){return a.filter(w.allTabs,(t=>this.isTabEnabled(t,e)))}isTabEnabled(e,t){const s=t||this.props;let n=!1;switch(e){case b.j.Contents:n="all"===s.interactivity&&(this.visibleTocDocuments.length>0||this.visibleTocThumbnails.length>0);break;case b.j.Discussion:n="all"===s.interactivity&&s.areSocialFeaturesEnabled&&s.delivery.discussionEnabled;break;case b.j.Notes:n="all"===s.interactivity&&Boolean(s.userId)&&s.areNotesEnabled;break;case b.j.Info:n=Panopto.features.tagsEnabled;break;case b.j.Search:n="none"!==s.interactivity}return n}get visibleTocDocuments(){return this.props.showAllTocEntries?a.filter(this.props.delivery.contents,(e=>e.isQuestionList||null!==e.url)):a.where(this.props.delivery.contents,{isQuestionList:!0})}get visibleTocThumbnails(){return this.props.delivery.thumbnails.filter((e=>{var t;return!!(null===(t=e.text)||void 0===t?void 0:t.trim())}))}handleSendLogsClicked(){this.props.onSubmitLogs()}handleActionMenuOpenToggle(e,t){this.setState({isActionMenuOpen:e},t)}render(){var e,t,s,i,a;const r=["event-overlay"];this.props.isMobile&&r.push("mobile");const p=Boolean(this.props.userId),T=Panopto.user.currentItemPermissions[PanoptoTS.Core.Permission.SessionCommentModerator],w=(null===(e=this.props.availableLanguages)||void 0===e?void 0:e.length)>1||this.props.availableAudioDescriptionLanguages.length>1,N=this.props.areRatingsEnabled||w;return o.createElement(d.j,{value:this.container},o.createElement("div",{className:r.join(" "),onKeyDown:this.props.onKeyDown},o.createElement("div",{className:"tab-strip",role:"tablist",onKeyDown:this.handleEventTabKeyDown},this.isTabEnabled(b.j.Contents)&&o.createElement(v.o,{id:u.g.ContentsTabId,title:this.props.resources.Embed_ContentsTab,paneId:u.g.ContentsPaneId,materialIcon:"list",onSelected:()=>this.handleTabSelected(b.j.Contents),selected:this.state.visiblePane===b.j.Contents,innerRef:e=>this.tabElements[b.j.Contents]=e}),this.isTabEnabled(b.j.Discussion)&&o.createElement(v.o,{id:u.g.CommentsTabId,title:this.props.resources.Embed_DiscussionTab,paneId:u.g.CommentsPaneId,materialIcon:"forum",onSelected:()=>this.handleTabSelected(b.j.Discussion),selected:this.state.visiblePane===b.j.Discussion,innerRef:e=>this.tabElements[b.j.Discussion]=e}),this.isTabEnabled(b.j.Notes)&&o.createElement(v.o,{id:u.g.NotesTabId,title:this.props.resources.Embed_NotesTab,paneId:u.g.NotesPaneId,materialIcon:"library_books",onSelected:()=>this.handleTabSelected(b.j.Notes),selected:this.state.visiblePane===b.j.Notes,innerRef:e=>this.tabElements[b.j.Notes]=e}),this.isTabEnabled(b.j.Info)&&o.createElement(v.o,{id:u.g.InfoTabId,title:this.props.resources.Info_Embed_Title,paneId:u.g.InfoPaneId,materialIcon:"info",onSelected:()=>this.handleTabSelected(b.j.Info),selected:this.state.visiblePane===b.j.Info,innerRef:e=>this.tabElements[b.j.Info]=e}),this.isTabEnabled(b.j.Search)&&o.createElement(v.o,{id:u.g.SearchTabId,title:this.props.resources.Embed_SearchTab,paneId:u.g.SearchPaneId,materialIcon:"search",onSelected:()=>this.handleTabSelected(b.j.Search),selected:this.state.visiblePane===b.j.Search,innerRef:e=>this.tabElements[b.j.Search]=e}),(p||w)&&N&&o.createElement("div",{className:"action-menu-wrapper"},o.createElement(c.Z,{title:this.props.resources.Embed_MoreActions,iconCode:"more_vert",isOpen:this.state.isActionMenuOpen,onToggleOpen:this.handleActionMenuOpenToggle},this.state.displayedScreen===n.MainSelect&&o.createElement(o.Fragment,null,(null===(t=this.props.availableLanguages)||void 0===t?void 0:t.length)>1&&o.createElement(o.Fragment,null,o.createElement(C.I,{buttonText:this.props.resources.Embed_CaptionLanguage,iconName:"closed_captions",shouldFocusOnMount:!0,onItemSelect:this.onCaptionItemSelect}),o.createElement("hr",null)),this.props.areAudioDescriptionsEnabled&&(null===(s=this.props.availableAudioDescriptionLanguages)||void 0===s?void 0:s.length)>1&&o.createElement(o.Fragment,null,o.createElement(C.I,{buttonText:this.props.resources.Embed_AudioDescriptionLanguage,iconName:"headset",shouldFocusOnMount:(null!==(a=null===(i=this.props.availableLanguages)||void 0===i?void 0:i.length)&&void 0!==a?a:0)<=1,onItemSelect:this.onAudioDescriptionItemSelect}),o.createElement("hr",null)),this.props.areRatingsEnabled&&p&&o.createElement(S.C,{deliveryId:this.props.delivery.id,deliveryRating:this.state.deliveryRating,onRatingUpdated:e=>this.setState({deliveryRating:e})})),this.state.displayedScreen===n.CaptionSelect&&o.createElement(I.L,{languageList:this.props.availableLanguages,selectedLanguage:this.props.selectedLanguage,menuTitle:this.props.resources.Embed_CaptionLanguage,noLanguageLabel:this.props.resources.Admin_Captions_NoLanguage,onLanguageSelected:this.props.onLanguageChanged,onBackSelect:this.onBackSelect}),this.state.displayedScreen===n.AudioDescriptionSelect&&o.createElement(I.L,{languageList:this.props.availableAudioDescriptionLanguages,selectedLanguage:this.props.selectedAudioDescriptionLanguage,menuTitle:this.props.resources.Embed_AudioDescriptionLanguage,noLanguageLabel:this.props.resources.Admin_AudioDescriptions_NoLanguage,onLanguageSelected:this.props.onAudioDescriptionLanguageChanged,onBackSelect:this.onBackSelect}),this.props.showSendLogs&&o.createElement(l.z,{className:"button textMenuItem",onActivate:this.handleSendLogsClicked},this.props.resources.SendLogs)))),o.createElement("div",{className:"event-pane-container",onKeyDown:this.handleEventPaneKeyDown},this.isTabEnabled(b.j.Contents)&&o.createElement(m.o,{id:u.g.ContentsPaneId,tabId:u.g.ContentsTabId,selected:this.state.visiblePane===b.j.Contents,thumbnails:this.visibleTocThumbnails,contents:this.visibleTocDocuments,onContentRowClick:this.handleContentRowClick}),this.isTabEnabled(b.j.Discussion)&&o.createElement(E.Z,{sessionId:this.props.sessionId,deliveryId:this.props.delivery.id,commentPollingInterval:this.props.delivery.broadcastRefreshInterval,userKey:this.props.delivery.user.key,userFullName:this.props.delivery.user.name,inviteToken:this.props.inviteId,userIsModerator:T,isBroadcast:this.props.isBroadcast,sessionsService:Panopto.Core.ServiceInterface.Rest.Sessions,render:(e,t,s,n,i,a,r,l,c,d,m,v,g,y,S,f,E,C,I,T,w)=>o.createElement(h.V,{isInteractiveViewer:!1,id:u.g.CommentsPaneId,tabId:u.g.CommentsTabId,selected:this.state.visiblePane===b.j.Discussion,replyingTo:s,addedComment:n,isAuthenticated:p,loginUrl:this.props.loginUrl,onInputSubmit:i,onInlineReplySubmit:a,threads:e,isLoading:t,isLandscape:this.props.isLandscape,isDiscussionDownloadEnabled:this.props.isDiscussionDownloadEnabled,onContentRowTimeClick:this.handleContentRowClick,onSetThreadExpanded:r,onReply:l,onDelete:c,inputRef:y,defaultCommentVisibility:m,newCommentVisibility:v,editingComment:d,discussionFilter:g,toggleThreadVisibility:S,changeDefaultCommentVisibility:f,changeNewCommentVisibility:E,changeCommentFilter:C,onEdit:I,onRetry:T,onDownloadDiscussionClicked:w})}),this.isTabEnabled(b.j.Notes)&&o.createElement(y.p,{id:u.g.NotesPaneId,tabId:u.g.NotesTabId,selected:this.state.visiblePane===b.j.Notes,deliveryId:this.props.delivery.id,isLandscape:this.props.isLandscape,isBroadcast:this.props.isBroadcast,onContentRowClick:this.handleContentRowClick}),this.isTabEnabled(b.j.Info)&&o.createElement(g.L,{id:u.g.InfoPaneId,tabId:u.g.InfoTabId,selected:this.state.visiblePane===b.j.Info,isLandscape:this.props.isLandscape,tags:this.props.delivery.tags,sessionTitle:this.props.delivery.title,description:this.props.delivery.description,sessionId:this.props.delivery.id,isMobileApp:this.props.isMobileApp,tagsService:Panopto.Core.ServiceInterface.Rest.TagsRequest,subscriptionService:Panopto.Core.ServiceInterface.Rest.SubscriptionRequest,userService:Panopto.Core.ServiceInterface.Rest.Users,onContentRowClick:this.handleContentRowClick}),this.isTabEnabled(b.j.Search)&&o.createElement(f.I,{id:u.g.SearchPaneId,tabId:u.g.SearchTabId,selected:this.state.visiblePane===b.j.Search,deliveryId:this.props.delivery.id,isLandscape:this.props.isLandscape,onContentRowClick:this.handleContentRowClick,initialSearchTerm:this.props.initialSearchTerm}))))}}w.allTabs=[b.j.Contents,b.j.Discussion,b.j.Notes,b.j.Info,b.j.Search],T([i.MR],w.prototype,"handleSendLogsClicked",null),T([i.MR],w.prototype,"handleActionMenuOpenToggle",null)},66653:(e,t,s)=>{s.d(t,{o:()=>i});var n=s(87363);class i extends n.Component{constructor(e){super(e),this.handleMouseDown=()=>{this.props.onSelected(),this.setState({clicked:!0})},this.handleBlur=()=>{this.setState({clicked:!1})},this.state={clicked:!1}}render(){const e=["event-tab"];this.props.selected&&e.push("selected"),this.state.clicked&&e.push("clicked");const t=["button","material-icons"];return this.props.selected&&t.push("safety-accent-border"),n.createElement("div",{id:this.props.id,className:e.join(" "),role:"tab",title:this.props.title,"aria-controls":this.props.paneId,"aria-selected":this.props.selected,tabIndex:this.props.selected?0:-1,ref:this.props.innerRef,onMouseDown:this.handleMouseDown,onBlur:this.handleBlur},n.createElement("i",{className:t.join(" "),"aria-hidden":"true"},this.props.materialIcon))}}},73401:(e,t,s)=>{var n;s.d(t,{j:()=>n}),function(e){e.Contents="Contents",e.Notes="Notes",e.Discussion="Discussion",e.Search="Search",e.Info="Info"}(n||(n={}))},79508:(e,t,s)=>{s.d(t,{r:()=>n});const n={Bookmarks:"bookmarks",Notes:"notes",Comments:"comments",Transcript:"transcript",UserCreatedTranscript:"user-created-transcript",MachineTranscript:"machine-transcript",OCROutput:"ocr-output",youtube:"youtube"}},34105:(e,t,s)=>{s.d(t,{L:()=>l});var n=s(87363),i=s(74818),o=s(72566),a=s(75928);class r extends n.Component{constructor(e){super(e),this.state={tagList:void 0}}componentDidMount(){this.setState({tagList:PanoptoTS.Viewer.Data.TagHelper.convertDeliveryToModel(this.props.tags)})}componentDidUpdate(e){e.tags!==this.props.tags&&this.setState({tagList:PanoptoTS.Viewer.Data.TagHelper.convertDeliveryToModel(this.props.tags)})}render(){var e,t;return n.createElement(a.Q,{id:this.props.id,tabId:this.props.tabId,className:"contents",selected:this.props.selected},n.createElement("div",{className:"scroll-container information-pane"},n.createElement("div",{className:"information-title"},this.props.sessionTitle),(null===(e=this.props.description)||void 0===e?void 0:e.trim())&&n.createElement("div",{className:"description"},this.props.description),!!(null===(t=this.state.tagList)||void 0===t?void 0:t.length)&&n.createElement(o.r,{initialTags:this.state.tagList,fetchTags:!1,canAdd:!1,canDelete:!1,darkMode:this.props.isLandscape,searchOnClick:!this.props.isMobileApp,searchInNewTab:!0,sessionId:this.props.sessionId,tagsService:this.props.tagsService,subscriptionService:this.props.subscriptionService,userService:this.props.userService,resources:this.props.resources})))}}const l=(0,i.l)(r)},46762:(e,t,s)=>{s.d(t,{J:()=>p});var n=s(60390),i=s(87363),o=s(69653),a=s(35413),r=s(74818),l=function(e,t,s,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(o<3?i(a):o>3?i(t,s,a):i(t,s))||a);return o>3&&a&&Object.defineProperty(t,s,a),a};class c extends i.Component{constructor(e){super(e),this.handleDeleteActionItemClick=()=>{this.props.onDelete(),this.setState({isActionMenuOpen:!1})},this.state={isActionMenuOpen:!1}}componentDidMount(){this.props.scrollIntoView&&this.element.scrollIntoView(!1)}handleActionMenuOpenToggle(e,t){this.setState({isActionMenuOpen:e},t)}render(){const e=["content-row"];!1===this.props.content.saved&&e.push("temp-event");const t=Panopto.user.currentItemPermissions[PanoptoTS.Core.Permission.SessionDeleteAnyNote]||Panopto.user.userKey===this.props.content.user;return i.createElement(o.z,{className:e.join(" "),role:"listitem",innerRef:e=>this.element=e,onActivate:this.props.onClick},i.createElement("div",{className:"content-wrapper"},i.createElement("div",{className:"content-row-label"},this.props.content.text),i.createElement("div",{className:"content-row-time"},this.props.timeHelpers.formatDuration(Math.floor(this.props.content.time),":",!1,0)),i.createElement("div",{className:"action-menu-wrapper"},t&&i.createElement(a.Z,{title:this.props.resources.Embed_MoreActions,iconCode:"more_vert",isOpen:this.state.isActionMenuOpen,onToggleOpen:this.handleActionMenuOpenToggle},i.createElement(o.z,{role:"menuitem",className:"item",onActivate:this.handleDeleteActionItemClick},i.createElement("i",{className:"material-icons","aria-hidden":"true"},"delete"),this.props.resources.Delete)))))}}l([n.MR],c.prototype,"handleActionMenuOpenToggle",null);const p=(0,r.l)(c)},99811:(e,t,s)=>{s.d(t,{p:()=>h});var n=s(60390),i=s(87363),o=s(12611),a=s(34283),r=s(74818),l=s(24758),c=function(e,t,s,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(o<3?i(a):o>3?i(t,s,a):i(t,s))||a);return o>3&&a&&Object.defineProperty(t,s,a),a},p=PanoptoTS.Viewer.Data.Event;class d extends i.Component{constructor(e){super(e),this.eventType=a.EventType.Note,this.handleDeleteNote=e=>{this.updateNoteById(e.id,(e=>e.saved=!1)),this.props.deliveryService.deleteEvent(this.props.deliveryId,this.eventType,e.eventPublicId,(()=>{this.removeNoteById(e.id)}),(()=>{alert(this.props.resources.Embed_NoteDeleteFailed),this.updateNoteById(e.id,(e=>e.saved=!0))}))},this.state={notes:[],addedNote:void 0,isLoading:!1}}componentDidMount(){this.setState({isLoading:!0}),this.props.deliveryService.search(this.props.deliveryId,this.eventType,void 0,void 0,void 0,void 0,void 0,(e=>{this.setState({notes:e.map((e=>new p(e))),isLoading:!1})}),$.noop)}handleInputSubmit(e,t){const s=this.addNote(e,t);this.props.deliveryService.createEvent(this.props.deliveryId,this.eventType,e,t,!0,void 0,this.props.isBroadcast,(e=>{this.confirmNoteAdd(s.id,e)}),(()=>{this.removeNoteById(s.id)}))}addNote(e,t){const s={id:"temp-event"+Math.round(1e8*Math.random()).toString(),type:this.eventType,text:e,time:t,user:Panopto.user.userKey,saved:!1},n=[...this.state.notes],i=o.findLastIndex(n,(e=>e.time<=s.time))+1;return n.splice(i,0,s),this.setState({notes:n,addedNote:s}),s}confirmNoteAdd(e,t){this.updateNoteById(e,(e=>{e.id=t.EventID.toString(),e.eventPublicId=t.PublicId.toString(),e.saved=!0}))}updateNoteById(e,t){const s=[...this.state.notes],n=o.findWhere(s,{id:e});n&&(t(n),this.setState({notes:s}))}removeNoteById(e){let t;const s=o.findIndex(this.state.notes,(t=>t.id===e));if(s>-1){const e=[...this.state.notes];t=e.splice(s,1)[0],this.setState({notes:e})}return t}render(){return i.createElement(l.s,Object.assign({},this.props,{notes:this.state.notes,addedNote:this.state.addedNote,isLoading:this.state.isLoading,onInputSubmit:this.handleInputSubmit,onDelete:this.handleDeleteNote}))}}c([n.MR],d.prototype,"handleInputSubmit",null);const h=(0,r.l)(d)},24758:(e,t,s)=>{s.d(t,{s:()=>u});var n=s(60390),i=s(87363),o=s(70747),a=s(74818),r=s(39945),l=s(75928),c=s(46762),p=s(13264),d=function(e,t,s,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(a=(o<3?i(a):o>3?i(t,s,a):i(t,s))||a);return o>3&&a&&Object.defineProperty(t,s,a),a};class h extends i.Component{componentDidUpdate(e){this.props.selected&&this.props.isLandscape!==e.isLandscape&&o.Browser.$_mobile&&this.input.blur()}handleSubmit(e,t){this.props.onInputSubmit(e,t),o.Browser.$_mobile&&this.input.blur()}render(){return i.createElement(l.Q,{id:this.props.id,tabId:this.props.tabId,className:"notes",selected:this.props.selected},i.createElement("div",{className:"scroll-container"},i.createElement(r.b,null,this.props.notes.map((e=>i.createElement(c.J,{key:e.id,content:e,scrollIntoView:this.props.addedNote&&e.id===this.props.addedNote.id,onClick:()=>this.props.onContentRowClick(e),onDelete:()=>this.props.onDelete(e)}))))),i.createElement(p.m,{inputRef:e=>this.input=e,placeholderText:this.props.resources.Embed_AddNoteAt,onSubmit:this.handleSubmit}))}}d([n.MR],h.prototype,"handleSubmit",null);const u=(0,a.l)(h)},12125:(e,t,s)=>{s.d(t,{g:()=>a});var n=s(87363),i=s(74818);class o extends n.Component{render(){const e={time:Math.max(0,this.props.quiz.time-.5)};return n.createElement("div",{className:"content-row quiz-row",onClick:()=>this.props.onClick(e)},n.createElement("div",{className:"content-wrapper"},n.createElement("div",{className:"content-row-thumbnail"},n.createElement("i",{className:"icon material-icons"},"assignment_turned_in")),n.createElement("div",{className:"content-row-label ellipsis"},this.props.quiz.text),n.createElement("div",{className:"content-row-time"},this.props.timeHelpers.formatDuration(Math.floor(this.props.quiz.time),":",!1,0))))}}const a=(0,i.l)(o)},85609:(e,t,s)=>{s.d(t,{C:()=>l});var n=s(87363),i=s(84868),o=s(74818),a=s(76826);class r extends n.Component{constructor(e){super(e),this.lastRequestId=0,this.handleSelectRating=e=>{this.lastRequestId++;const t=this.lastRequestId;clearTimeout(this.confirmationTimeoutId);const s=this.props.deliveryRating;e!==s&&(this.setState({isSaving:!0,showConfirmation:!1}),this.props.onRatingUpdated(e),this.props.deliveryService.rateDelivery(this.props.deliveryId,e,(()=>{t===this.lastRequestId&&(this.setState({isSaving:!1}),this.showRatingConfirmation())}),(()=>{t===this.lastRequestId&&(alert(this.props.resources.Embed_RatingSaveFailed),this.props.onRatingUpdated(s),this.setState({isSaving:!1}))})))},this.showRatingConfirmation=()=>{this.setState({showConfirmation:!0}),this.confirmationTimeoutId=setTimeout((()=>this.setState({showConfirmation:!1})),r.confirmationDisplayPeriod)},this.state={showConfirmation:!1,isSaving:!1}}render(){const e=this.state.showConfirmation?this.props.resources.Embed_ThanksForRating:this.props.deliveryRating?this.props.resources.Embed_YourRating:this.props.resources.Embed_RateThisVideo;return n.createElement("div",{className:"rating-menu-item",tabIndex:0},n.createElement("div",{className:"label"},e,this.state.isSaving&&n.createElement(a.r,{className:"loading-spinner",fillColor:this.props.brandColorSafe})),n.createElement(i.SH,{currentRating:this.props.deliveryRating,resources:this.props.resources,onRatingSelected:this.handleSelectRating}))}}r.confirmationDisplayPeriod=2e3;const l=(0,o.l)(r)},55559:(e,t,s)=>{s.d(t,{I:()=>c});var n=s(87363),i=s(12611),o=s(74818),a=s(51545),r=PanoptoTS.Viewer.Data.Event;class l extends n.Component{constructor(e){super(e),this.lastQuery="",this.handleQueryChanged=e=>{this.setState({query:e,isLoading:!0}),this.submitQuery(e),e||this.setState({contents:void 0,isLoading:!1})},this.submitQuery=i.debounce((e=>{e!==this.lastQuery?(e&&this.props.deliveryService.search(this.props.deliveryId,void 0,e,void 0,void 0,void 0,void 0,(e=>{this.setState({contents:i.map(e,(e=>new r(e))),isLoading:!1})}),$.noop),this.lastQuery=e):this.setState({isLoading:!1})}),l.queryDebouncePeriod),this.state={query:e.initialSearchTerm||"",contents:void 0,isLoading:!1}}componentDidMount(){this.state.query&&this.submitQuery(this.state.query)}render(){return n.createElement(a.w,Object.assign({},this.props,this.state,{onQueryChange:this.handleQueryChanged}))}}l.queryDebouncePeriod=250;const c=(0,o.l)(l)},51545:(e,t,s)=>{s.d(t,{w:()=>u});var n=s(87363),i=s(70747),o=s(69653),a=s(74818),r=s(76826),l=s(39945),c=s(75928),p=s(74752),d=s(35684);class h extends n.Component{constructor(){super(...arguments),this.handleInputFocus=()=>{d.b.setEmbedViewport({fixed:!1}),$(window).on("resize.inputFocus",(()=>{this.inputContainer.scrollIntoView(!0)})),setTimeout((()=>$(window).off("resize.inputFocus")),1e3)},this.handleKeyPress=e=>{e.which===Panopto.Core.Key.Enter&&(e.preventDefault(),i.Browser.$_mobile&&this.input.blur())},this.handleQueryInputChange=e=>{this.props.onQueryChange(e.currentTarget.value)},this.handleQueryClear=()=>{this.props.onQueryChange(""),this.input.focus()}}componentDidUpdate(e){this.props.selected&&!e.selected&&this.input.focus(),this.props.selected&&this.props.isLandscape!==e.isLandscape&&i.Browser.$_mobile&&this.input.blur()}render(){const e=["input-container search"];return this.props.query&&e.push("query-active"),this.props.isLoading&&e.push("loading"),n.createElement(c.Q,{id:this.props.id,tabId:this.props.tabId,className:"search",selected:this.props.selected},n.createElement("div",{className:e.join(" "),ref:e=>this.inputContainer=e},n.createElement("input",{type:"text",className:"input",placeholder:this.props.resources.Embed_SearchThisVideo,value:this.props.query,ref:e=>this.input=e,onFocus:this.handleInputFocus,onBlur:()=>d.b.setEmbedViewport({fixed:!0}),onChange:this.handleQueryInputChange,onKeyPress:this.handleKeyPress}),n.createElement(r.r,{className:"loading-spinner",fillColor:this.props.brandColorSafe}),n.createElement(o.z,{iconCode:"cancel",className:"query-clear-button",onActivate:this.handleQueryClear,title:this.props.resources.Clear})),n.createElement("div",{className:"scroll-container search"},this.props.contents&&n.createElement(l.b,{emptyListText:this.props.resources.Embed_NoResults},this.props.contents.map((e=>n.createElement(p.L,{key:e.id,content:e,onClick:()=>this.props.onContentRowClick(e)}))))))}}const u=(0,a.l)(h)},74752:(e,t,s)=>{s.d(t,{L:()=>l});var n=s(87363),i=s(69653),o=s(74818),a=s(79508);class r extends n.Component{render(){const e=["icon material-icons"];return e.push(a.r[this.props.content.type]||"contents"),n.createElement(i.z,{className:"content-row",role:"listitem",onActivate:this.props.onClick},n.createElement("div",{className:"content-wrapper"},n.createElement("div",{className:e.join(" ")},"OCROutput"===this.props.content.type&&n.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"icon/_custom/ocr",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},n.createElement("g",{id:"Group"},n.createElement("polygon",{points:"0 0 24.0000001 0 24.0000001 24.0000001 0 24.0000001"}),n.createElement("path",{fill:"currentColor",d:"M3.00000001,5.00000001 L3.00000001,9.00000001 L5.00000001,9.00000001 L5.00000001,5.00000001 L9.00000001,5.00000001 L9.00000001,3.00000001 L5.00000001,3.00000001 C3.90000002,3.00000001 3.00000001,3.90000002 3.00000001,5.00000001 Z M5.00000001,15.0000001 L3.00000001,15.0000001 L3.00000001,19.0000001 C3.00000001,20.1000001 3.90000002,21.0000001 5.00000001,21.0000001 L9.00000001,21.0000001 L9.00000001,19.0000001 L5.00000001,19.0000001 L5.00000001,15.0000001 Z M19.0000001,19.0000001 L15.0000001,19.0000001 L15.0000001,21.0000001 L19.0000001,21.0000001 C20.1000001,21.0000001 21.0000001,20.1000001 21.0000001,19.0000001 L21.0000001,15.0000001 L19.0000001,15.0000001 L19.0000001,19.0000001 Z M19.0000001,3.00000001 L15.0000001,3.00000001 L15.0000001,5.00000001 L19.0000001,5.00000001 L19.0000001,9.00000001 L21.0000001,9.00000001 L21.0000001,5.00000001 C21.0000001,3.90000002 20.1000001,3.00000001 19.0000001,3.00000001 Z"})),n.createElement("polygon",{fill:"currentColor",points:"14.0000001 17.0000001 7.00000003 17.0000001 7.00000003 15.0000001 14.0000001 15.0000001"}),n.createElement("polygon",{fill:"currentColor",points:"17.0000001 13.0000001 7.00000003 13.0000001 7.00000003 11 17.0000001 11"}),n.createElement("polygon",{fill:"currentColor",points:"17.0000001 9.00000004 7.00000003 9.00000004 7.00000003 7.00000003 17.0000001 7.00000003"})))),n.createElement("div",{className:"content-row-label"},n.createElement("span",{dangerouslySetInnerHTML:{__html:this.processSearchResultText(this.props.content.text)}})),n.createElement("div",{className:"content-row-time"},this.props.timeHelpers.formatDuration(Math.round(this.props.content.time),":",!1,0))))}processSearchResultText(e){return Panopto.Core.TextHelpers.cleanTextWithHighlighting(e)}}const l=(0,o.l)(r)},18144:(e,t,s)=>{s.d(t,{x:()=>r});var n=s(87363),i=s(69653),o=s(74818);class a extends n.Component{render(){const e=this.props.thumbnail,t=e.queryParams?Panopto.Core.StringHelpers.addQueryParameter(PanoptoTS.Viewer.Constants.ThumbUrl,e.queryParams):Panopto.cacheRoot+"/Images/no_thumbnail.svg";return n.createElement(i.z,{className:"content-row",role:"listitem",onActivate:()=>this.props.onClick(e)},n.createElement("div",{className:"content-wrapper"},n.createElement("div",{className:"content-row-thumbnail",style:{backgroundImage:`url(${t})`}}),n.createElement("div",{className:"content-row-label ellipsis",dir:"auto"},this.props.thumbnail.text),n.createElement("div",{className:"content-row-time"},this.props.timeHelpers.formatDuration(Math.floor(this.props.thumbnail.time),":",!1,0))))}}const r=(0,o.l)(a)},94533:(e,t,s)=>{s.d(t,{I:()=>o});var n=s(87363),i=s(69653);class o extends n.Component{componentDidMount(){var e;this.props.shouldFocusOnMount&&(null===(e=this.buttonRef)||void 0===e||e.focus())}render(){return n.createElement(i.z,{onActivate:this.props.onItemSelect,className:"caption-item-list",title:this.props.buttonText,innerRef:e=>this.buttonRef=e},n.createElement("span",{className:"material-icons caption-item-icon"},this.props.iconName),n.createElement("div",{className:"caption-item-text"},this.props.buttonText))}}},53962:(e,t,s)=>{s.d(t,{L:()=>a});var n=s(87363),i=s(70747),o=s(69653);class a extends n.Component{componentDidMount(){var e;null===(e=this.captionItem)||void 0===e||e.focus()}render(){return n.createElement(n.Fragment,null,n.createElement(o.z,{className:"caption-item-list",onActivate:this.props.onBackSelect,title:this.props.menuTitle,innerRef:e=>this.captionItem=e},n.createElement("span",{className:"material-icons"},"arrow_back"),n.createElement("div",{className:"language-text"},this.props.menuTitle)),this.props.languageList.map((e=>n.createElement(o.z,{className:"language-item",key:e,onActivate:()=>this.props.onLanguageSelected(e)},n.createElement("span",{className:"material-icons language-icon"+(e===this.props.selectedLanguage?" language-selected":"")},"done"),n.createElement("div",{className:"language-text"},i.ContentLanguageFriendly[i.ContentLanguage[e]]||this.props.noLanguageLabel)))))}}},70747:e=>{e.exports=PanoptoCore},76702:e=>{e.exports=PanoptoReactComponents},34283:e=>{e.exports=PanoptoViewer},87363:e=>{e.exports=React},12611:e=>{e.exports=_},48488:e=>{e.exports=moment}},s={};function n(e){var i=s[e];if(void 0!==i)return i.exports;var o=s[e]={id:e,exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,s,i,o)=>{if(!s){var a=1/0;for(p=0;p<e.length;p++){for(var[s,i,o]=e[p],r=!0,l=0;l<s.length;l++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](s[l])))?s.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(p--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[s,i,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=507,(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{n.b=document.baseURI||self.location.href;var e={507:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var i,o,[a,r,l]=s,c=0;if(a.some((t=>0!==e[t]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var p=l(n)}for(t&&t(s);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(p)},s=this.webpackChunk_panopto_webpack=this.webpackChunk_panopto_webpack||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),n.nc=void 0;var i=n.O(void 0,[9351],(()=>n(98542)));i=n.O(i)})();
//# sourceMappingURL=file://seasyn/jenkinsbuilds/rel_rtc_13.7.0/13.7.0.00014/_PublishedWebsites/WebUI/Scripts/Panopto/Bundles/EventOverlayFactory.js.map